!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("js-base64"),require("qs"),require("axios"),require("sweetalert2")):"function"==typeof define&&define.amd?define(["exports","js-base64","qs","axios","sweetalert2"],t):t((e||self).EsUtils={},e.jsBase64,e.qs,e.axios,e.sweetalert2)}(this,function(e,t,r,n,i){function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/a(n),s=/*#__PURE__*/a(i);function u(e){return Object.is(e,void 0)}function c(e){return Object.is(e,null)}function f(e){return u(e)||c(e)}function l(e){return Object.is(e,!0)}function d(e){return Object.is(e,!1)}function p(e){return("number"==typeof e||"bigint"==typeof e)&&!Object.is(e,NaN)}function m(e){return Number.isInteger(e)}function b(e){if(m(e))return!0;if(y(e)){if("0"===e)return!0;if("-"===e.charAt(0)&&(e=e.slice(1)),/^[1-9]\d*$/.test(e))return!0}return!1}function y(e){return"string"==typeof e}function h(e){return y(e)&&""!==e.trim()}function j(e){return y(e)&&""===e.trim()}function g(e){return Array.isArray(e)}function x(e){return"object"==typeof e&&!c(e)&&!g(e)}function O(e){return p(e)&&0==e}function w(e){if(y(e)||(e=window.location.search),(e=e.trimStart()).startsWith("http:")||e.startsWith("https:")){const t=e.split("?");t.length>1&&delete t[0],e=t.join("")}else"?"===e.charAt(0)&&(e=e.replace(/^[?]+/,""));return""+e}function A(e){return r.parse(w(e))}function C(e){const t={toast:!0,showConfirmButton:!1,timer:3e3,...e};return s.default.fire(t)}function S(e){const t={width:500,iconHtml:'<i class="bi bi-exclamation-circle text-primary"></i>',customClass:{icon:"border-0 mt-0 mb-3",confirmButton:"btn btn-primary px-4 py-2"},showClass:{popup:"animate__animated animate__fadeInUp animate__faster",backdrop:"swal2-backdrop-show"},hideClass:{popup:"animate__animated animate__fadeOutDown animate__faster",backdrop:"swal2-backdrop-hide"},...e};return s.default.fire(t)}function T(e,t,n){const i=o.default.create();return i.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",i.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",i.defaults.headers.patch["Content-Type"]="application/x-www-form-urlencoded",i.interceptors.response.use(P,B),i.request({method:e,url:t,timeout:0,paramsSerializer:e=>r.stringify(e,{arrayFormat:"brackets"}),withCredentials:!1,responseType:"json",...n})}function _(e){let t;if(e instanceof Error){if(f(e.response))return void S({text:"网络繁忙（400001），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{});x(e.response)&&!f(e.response.data)&&(e=e.response)}x(e)||S({text:"网络繁忙（400002），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{});const r={...e}.data;if(x(r)||S({text:"网络繁忙（400003），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{}),t="网络繁忙（400000），请稍后再试",h(r.err)&&(t=r.err),r.retCode>=500)t="网络繁忙（400500），请稍后再试";else if(401===r.retCode)t="网络繁忙（400401），请稍后再试";else if(403===r.retCode)t="网络繁忙（400403），请稍后再试";else if(404===r.retCode)t="网络繁忙（400404），请稍后再试";else if(r.retCode>=400)if(Array.isArray(r.data))x(r.data[0])&&h(r.data[0].message)&&(t=r.data[0].message);else if(x(r.data))if(h(r.data.err))t=r.data.err;else if(x(r.data.err)){const e=Object.values(r.data.err);h(e[0])?t=e[0]:Array.isArray(e[0])&&h(e[0][0])&&(t=e[0][0])}else h(r.data.message)&&(t=r.data.message);S({text:t,confirmButtonText:"关 闭"}).then(()=>{})}const P=e=>{if("blob"===e.config.responseType)return e;const t={...e.headers},r={};Object.keys(t).forEach(e=>{const n=e.toLowerCase();let i=t[e];0===n.indexOf("x-pagination-")&&b(i)&&(i*=1),r[n]=i}),e.headers=r;const n={...e}.data;return n.isOk?(x(n.data)&&(e.data=n.data),h(e.data.toast)&&C({title:e.data.toast,icon:"success"}).then(()=>{}),e):(_(e),!1)},B=e=>(_(e),!1);e.ajaxGet=function(e,t,r){return f(t)&&(t={}),f(r)&&(r={}),T("GET",e,{params:t,...r})},e.ajaxHandleError=_,e.ajaxPatch=function(e,t,r){return f(r)&&(r={}),T("PATCH",e,{data:t,...r})},e.ajaxPost=function(e,t,r){return f(r)&&(r={}),T("POST",e,{data:t,...r})},e.ajaxPut=function(e,t,r){return f(r)&&(r={}),T("PUT",e,{data:t,...r})},e.ajaxRequest=T,e.isArray=g,e.isArrayEmpty=function(e){return g(e)&&0===e.length},e.isArrayFilled=function(e){return g(e)&&e.length>0},e.isBoolean=function(e){return l(e)||d(e)},e.isFalse=d,e.isFalsyValue=function(e){return f(e)||d(e)||Object.is(e,NaN)||O(e)||j(e)},e.isFunction=function(e){return"function"==typeof e},e.isInteger=m,e.isIntegeric=b,e.isNil=f,e.isNull=c,e.isNumber=p,e.isNumberZero=O,e.isObject=x,e.isObjectEmpty=function(e){return x(e)&&0===Object.keys(e).length},e.isObjectFilled=function(e){return x(e)&&Object.keys(e).length>0},e.isPlainObject=function(e){if(!x(e))return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},e.isString=y,e.isStringContainsChChars=function(e){return!!y(e)&&/[\u4e00-\u9fa5]+/g.test(e)},e.isStringContainsString=function(e,t){return!(!y(e)||!y(t))&&-1!==e.indexOf(t)},e.isStringEmpty=j,e.isStringFilled=h,e.isSymbol=function(e){return"symbol"==typeof e},e.isTrue=l,e.isUndefined=u,e.swalAlert=S,e.swalToast=C,e.urlGetSearchParam=function(e,t){const r=A(t);return f(r[e])?null:r[e]},e.urlGetSearchParams=A,e.urlGetSearchString=w,e.urlSafeBase64Decode=function(e){return t.decode(e.replaceAll(".","=").replaceAll("_","/").replaceAll("-","+"))},e.urlSafeBase64Encode=function(e){return t.encode(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=",".")}});
//# sourceMappingURL=es-utils.umd.js.map
