var t=require("js-base64"),e=require("qs"),r=require("axios"),n=require("sweetalert2");function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=/*#__PURE__*/o(r),a=/*#__PURE__*/o(n);function i(t){return Object.is(t,void 0)}function u(t){return Object.is(t,null)}function c(t){return i(t)||u(t)}function f(t){return Object.is(t,!0)}function p(t){return Object.is(t,!1)}function l(t){return("number"==typeof t||"bigint"==typeof t)&&!Object.is(t,NaN)}function d(t){return Number.isInteger(t)}function x(t){if(d(t))return!0;if(m(t)){if("0"===t)return!0;if("-"===t.charAt(0)&&(t=t.slice(1)),/^[1-9]\d*$/.test(t))return!0}return!1}function m(t){return"string"==typeof t}function b(t){return m(t)&&""!==t.trim()}function y(t){return m(t)&&""===t.trim()}function h(t){return Array.isArray(t)}function j(t){return"object"==typeof t&&!u(t)&&!h(t)}function g(t){return l(t)&&0==t}function O(t){if(m(t)||(t=window.location.search),(t=t.trimStart()).startsWith("http:")||t.startsWith("https:")){const e=t.split("?");e.length>1&&delete e[0],t=e.join("")}else"?"===t.charAt(0)&&(t=t.replace(/^[?]+/,""));return""+t}function w(t){return e.parse(O(t))}function A(t){const e={toast:!0,showConfirmButton:!1,timer:3e3,...t};return a.default.fire(e)}function C(t){const e={width:500,iconHtml:'<i class="bi bi-exclamation-circle text-primary"></i>',customClass:{icon:"border-0 mt-0 mb-3",confirmButton:"btn btn-primary px-4 py-2"},showClass:{popup:"animate__animated animate__fadeInUp animate__faster",backdrop:"swal2-backdrop-show"},hideClass:{popup:"animate__animated animate__fadeOutDown animate__faster",backdrop:"swal2-backdrop-hide"},...t};return a.default.fire(e)}function S(t,r,n){const o=s.default.create();return o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",o.defaults.headers.patch["Content-Type"]="application/x-www-form-urlencoded",o.interceptors.response.use(_,P),o.request({method:t,url:r,timeout:0,paramsSerializer:t=>e.stringify(t,{arrayFormat:"brackets"}),withCredentials:!1,responseType:"json",...n})}function T(t){let e;if(t instanceof Error){if(c(t.response))return void C({text:"网络繁忙（400001），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{});j(t.response)&&!c(t.response.data)&&(t=t.response)}j(t)||C({text:"网络繁忙（400002），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{});const r={...t}.data;if(j(r)||C({text:"网络繁忙（400003），请稍后再试",confirmButtonText:"关 闭"}).then(()=>{}),e="网络繁忙（400000），请稍后再试",b(r.err)&&(e=r.err),r.retCode>=500)e="网络繁忙（400500），请稍后再试";else if(401===r.retCode)e="网络繁忙（400401），请稍后再试";else if(403===r.retCode)e="网络繁忙（400403），请稍后再试";else if(404===r.retCode)e="网络繁忙（400404），请稍后再试";else if(r.retCode>=400)if(Array.isArray(r.data))j(r.data[0])&&b(r.data[0].message)&&(e=r.data[0].message);else if(j(r.data))if(b(r.data.err))e=r.data.err;else if(j(r.data.err)){const t=Object.values(r.data.err);b(t[0])?e=t[0]:Array.isArray(t[0])&&b(t[0][0])&&(e=t[0][0])}else b(r.data.message)&&(e=r.data.message);C({text:e,confirmButtonText:"关 闭"}).then(()=>{})}const _=t=>{if("blob"===t.config.responseType)return t;const e={...t.headers},r={};Object.keys(e).forEach(t=>{const n=t.toLowerCase();let o=e[t];0===n.indexOf("x-pagination-")&&x(o)&&(o*=1),r[n]=o}),t.headers=r;const n={...t}.data;return n.isOk?(j(n.data)&&(t.data=n.data),b(t.data.toast)&&A({title:t.data.toast,icon:"success"}).then(()=>{}),t):(T(t),!1)},P=t=>(T(t),!1);exports.ajaxGet=function(t,e,r){return c(e)&&(e={}),c(r)&&(r={}),S("GET",t,{params:e,...r})},exports.ajaxHandleError=T,exports.ajaxPatch=function(t,e,r){return c(r)&&(r={}),S("PATCH",t,{data:e,...r})},exports.ajaxPost=function(t,e,r){return c(r)&&(r={}),S("POST",t,{data:e,...r})},exports.ajaxPut=function(t,e,r){return c(r)&&(r={}),S("PUT",t,{data:e,...r})},exports.ajaxRequest=S,exports.isArray=h,exports.isArrayEmpty=function(t){return h(t)&&0===t.length},exports.isArrayFilled=function(t){return h(t)&&t.length>0},exports.isBoolean=function(t){return f(t)||p(t)},exports.isFalse=p,exports.isFalsyValue=function(t){return c(t)||p(t)||Object.is(t,NaN)||g(t)||y(t)},exports.isFunction=function(t){return"function"==typeof t},exports.isInteger=d,exports.isIntegeric=x,exports.isNil=c,exports.isNull=u,exports.isNumber=l,exports.isNumberZero=g,exports.isObject=j,exports.isObjectEmpty=function(t){return j(t)&&0===Object.keys(t).length},exports.isObjectFilled=function(t){return j(t)&&Object.keys(t).length>0},exports.isPlainObject=function(t){if(!j(t))return!1;if("[object Object]"!==Object.prototype.toString.call(t))return!1;if(null===Object.getPrototypeOf(t))return!0;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},exports.isString=m,exports.isStringContainsChChars=function(t){return!!m(t)&&/[\u4e00-\u9fa5]+/g.test(t)},exports.isStringContainsString=function(t,e){return!(!m(t)||!m(e))&&-1!==t.indexOf(e)},exports.isStringEmpty=y,exports.isStringFilled=b,exports.isSymbol=function(t){return"symbol"==typeof t},exports.isTrue=f,exports.isUndefined=i,exports.swalAlert=C,exports.swalToast=A,exports.urlGetSearchParam=function(t,e){const r=w(e);return c(r[t])?null:r[t]},exports.urlGetSearchParams=w,exports.urlGetSearchString=O,exports.urlSafeBase64Decode=function(e){return t.decode(e.replaceAll(".","=").replaceAll("_","/").replaceAll("-","+"))},exports.urlSafeBase64Encode=function(e){return t.encode(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=",".")};
//# sourceMappingURL=es-utils.cjs.map
